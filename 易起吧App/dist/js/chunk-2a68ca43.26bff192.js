(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2a68ca43"],{4320:function(t,s,i){"use strict";i.r(s);var n=function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"myRanking"},[i("van-sticky",[i("van-nav-bar",{scopedSlots:t._u([{key:"left",fn:function(){return[i("span",{staticClass:"iconfont icon-arrow-fine-up-copy",on:{click:function(s){return s.stopPropagation(),t.onClickLeft(s)}}})]},proxy:!0}])}),i("div",{staticClass:"iconfont icon-paihangbang1 paihangbang"})],1),i("div",{ref:"panBox",staticClass:"panBox"},[t._l(t.nowList,(function(s,n){return i("div",{key:n,staticClass:"panItem",on:{click:function(i){return t.goPater(s.id,s.score)}}},[i("van-skeleton",{attrs:{title:"","row-width":"100%",row:1,loading:t.loading}},[i("span",{staticClass:"sHeard",style:{color:n<=2?"#ff4338":"#000"}},[t._v(t._s(n+1))])]),i("van-skeleton",{attrs:{title:"",avatar:"",loading:t.loading}},[i("img",{directives:[{name:"lazy",rawName:"v-lazy",value:s.img1v1Url,expression:"item.img1v1Url"}],staticClass:"imgs"})]),i("div",{staticClass:"sBodeys"},[i("van-skeleton",{attrs:{title:"","row-width":"100%",row:1,loading:t.loading}},[i("p",{staticClass:"score"},[t._v(t._s(t._f("ff_score")(s.score)))]),i("p",[i("span",{staticClass:"songs"},[t._v("歌手")]),i("span",{staticClass:"geshou"},[t._v(t._s(s.name))]),s.topicPerson>8e4?i("span",{staticClass:"iconfont icon-shangsheng"}):t._e()])])],1),i("van-skeleton",{attrs:{title:"","row-width":"100%",row:1,loading:t.loading}},[i("span",{staticClass:"iconfont icon-sandian"})])],1)})),1==t.isDi?i("van-loading",{attrs:{size:"24px"}},[t._v("加载中...")]):t._e(),2==t.isDi?i("van-divider",{attrs:{dashed:""}},[t._v("我也是有底线的")]):t._e()],2)],1)},o=[],a=(i("fb6a"),i("cc2b"),{name:"Ranking",data:function(){return{artistsList:[],limit:20,nowList:[],isDi:0,time:null,isNum:0,loading:!0}},methods:{onClickLeft:function(){window.removeEventListener("scroll",this.ff_scroll),this.$router.go(-1)},goPater:function(t,s){window.removeEventListener("scroll",this.ff_scroll),this.$router.push({name:"Songlist",query:{id:t,score:s}}),console.log(t)},ff_requet:function(){var t=this;this.axios({url:"/toplist/artist",params:{type:1}}).then((function(s){200==s.data.code&&(t.$toast.clear(),t.artistsList=s.data.list.artists,t.nowList=t.artistsList.slice(0,20),setTimeout((function(){t.loading=!1}),500))})).catch((function(t){console.log(t)}))},ff_scroll:function(t){var s=this,i=this.artistsList.length/this.limit,n=document.body.offsetHeight;if(this.$refs.panBox){var o=this.$refs.panBox.offsetHeight+this.$refs.panBox.offsetTop,a=o-n;t.path[1].pageYOffset>=a&&(this.isDi=1,clearTimeout(this.time),this.time=setTimeout((function(){s.isNum++,s.isDi=0,s.limit=s.limit+20,s.nowList=s.artistsList.slice(0,s.limit),console.log(s.isNum>=i)}),500))}}},created:function(){this.$toast.loading({message:"加载中",forbidClick:!0,loadingType:"spinner"}),this.ff_requet()},filters:{ff_score:function(t){var s="".concat(Math.floor(t/1e4),"万");return s}},watch:{nowList:function(t,s){t.length&&window.addEventListener("scroll",this.ff_scroll)}}}),e=a,r=i("2877"),l=Object(r["a"])(e,n,o,!1,null,"6b100584",null);s["default"]=l.exports},cc2b:function(t,s,i){}}]);
//# sourceMappingURL=chunk-2a68ca43.26bff192.js.map