{"version":3,"sources":["webpack:///./src/views/Songlist.vue?1185","webpack:///src/views/Songlist.vue","webpack:///./src/views/Songlist.vue?bbf1","webpack:///./src/views/Songlist.vue","webpack:///./node_modules/core-js/modules/es.array.join.js","webpack:///./node_modules/core-js/modules/es.function.name.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","directives","name","rawName","value","artist","expression","attrs","scopedSlots","_u","key","fn","on","$event","stopPropagation","goBack","_v","proxy","goPack","_s","_f","scores","briefDesc","ff_queue","hotSongss","length","_l","item","index","ff_songs","songId","songName","songUrl","autName","staticRenderFns","component","$","IndexedObject","toIndexedObject","arrayMethodIsStrict","nativeJoin","join","ES3_STRINGS","Object","STRICT_METHOD","target","proto","forced","separator","call","undefined","DESCRIPTORS","defineProperty","f","FunctionPrototype","Function","prototype","FunctionPrototypeToString","toString","nameRE","NAME","configurable","get","match","error"],"mappings":"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","file":"js/chunk-27a683e6.eb3f4163.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"mySonglist\"},[_c('div',{staticClass:\"imgs01\"},[_c('img',{directives:[{name:\"lazy\",rawName:\"v-lazy\",value:(_vm.artist.picUrl),expression:\"artist.picUrl\"}]})]),_c('van-nav-bar',{attrs:{\"border\":false},scopedSlots:_vm._u([{key:\"left\",fn:function(){return [_c('div',[_c('span',{staticClass:\"iconfont icon-arrow-fine-up-copy\",on:{\"click\":function($event){$event.stopPropagation();return _vm.goBack($event)}}},[_vm._v(\"歌手\")])])]},proxy:true},{key:\"right\",fn:function(){return [_c('div',[_c('span',{staticClass:\"iconfont icon-fangda\",on:{\"click\":function($event){return _vm.goPack('Seek')}}}),_c('span',{staticClass:\"iconfont icon-sandian\"})])]},proxy:true}])}),_c('div',{staticClass:\"singes\"},[_c('div',{staticClass:\"img02\"},[_c('img',{directives:[{name:\"lazy\",rawName:\"v-lazy\",value:(_vm.artist.picUrl),expression:\"artist.picUrl\"}]}),_c('p',{staticClass:\"p1\"},[_c('span',{staticClass:\"iconfont icon-sanjiaoxing\"}),_c('span',{staticClass:\"ren\"},[_vm._v(_vm._s(_vm._f(\"ff_score\")(_vm.scores)))])])]),_c('div',{staticClass:\"singesBody\"},[_c('p',[_c('span',{staticClass:\"iconfont icon-arrow-right\"},[_vm._v(_vm._s(_vm.artist.name))])]),_c('p',[_vm._v(_vm._s(_vm.artist.briefDesc))])])]),_c('div',{staticClass:\"box\"},[_c('div',{staticClass:\"boxHeard\"},[_c('span',{staticClass:\"iconfont icon-bofangjian1\",on:{\"click\":_vm.ff_queue}}),_c('div',{staticClass:\"heardBodys\"},[_c('span',[_vm._v(\"播放全部\")]),_c('span',[_vm._v(\"(共\"+_vm._s(_vm.hotSongss.length)+\"首)\")])])]),_c('div',[_c('ul',_vm._l((_vm.hotSongss),function(item,index){return _c('li',{key:index,staticClass:\"boxItem\",on:{\"click\":function($event){return _vm.ff_songs(item.songId,item.songName,item.songUrl,item.autName,true)}}},[_c('span',[_vm._v(_vm._s(index+1))]),_c('div',{staticClass:\"itemBody\"},[_c('p',[_vm._v(_vm._s(item.songName))]),_c('p',{staticClass:\"cen\"},[_c('span',{staticClass:\"x1 xx\"},[_vm._v(\"独家\")]),_c('span',{staticClass:\"x2 xx\"},[_vm._v(\"SQ\")]),_c('span',[_vm._v(_vm._s(item.autName))])])]),_c('span',{staticClass:\"iconfont icon-sandian\"})])}),0)])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"mySonglist\">\r\n\r\n         <div class=\"imgs01\">\r\n             <img v-lazy=\"artist.picUrl\">\r\n          </div>\r\n          \r\n          <!-- 顶部导航栏 -->\r\n          <van-nav-bar :border=\"false\">\r\n             <template #left>\r\n                 <div>\r\n                    <span class=\"iconfont icon-arrow-fine-up-copy\" @click.stop=\"goBack\">歌手</span>\r\n                 </div>\r\n             </template>\r\n             <template #right>\r\n                    <div>\r\n                        <span class=\"iconfont icon-fangda\" @click=\"goPack('Seek')\"></span>\r\n                        <span class=\"iconfont icon-sandian\"></span>\r\n                    </div>\r\n             </template>\r\n          </van-nav-bar>\r\n\r\n              <!-- 歌手简介 -->\r\n          <div class=\"singes\">\r\n              <div class=\"img02\">\r\n                  <img v-lazy=\"artist.picUrl\">\r\n                  <p class=\"p1\">\r\n                      <span class=\"iconfont icon-sanjiaoxing\"></span>\r\n                      <span class=\"ren\">{{scores |  ff_score}}</span>\r\n                  </p>\r\n              </div>\r\n              <div class=\"singesBody\">\r\n                  \r\n                  <p>\r\n                      <span class=\"iconfont icon-arrow-right\">{{artist.name}}</span>\r\n                  </p>\r\n                  <p>{{artist.briefDesc}}</p>\r\n              </div>\r\n          </div>\r\n\r\n\r\n          <!-- 歌曲 -->\r\n          <div class=\"box\">\r\n            <div class=\"boxHeard\">\r\n                <span @click=\"ff_queue\" class=\"iconfont icon-bofangjian1\"></span>\r\n                <div class=\"heardBodys\">\r\n                    <span>播放全部</span>\r\n                    <span>(共{{hotSongss.length}}首)</span>\r\n                </div>\r\n            </div>\r\n            <div>\r\n                <ul>\r\n\r\n                    <li class=\"boxItem\" v-for=\"(item,index) in hotSongss\" :key=\"index\" @click=\"ff_songs(item.songId,item.songName,item.songUrl,item.autName,true)\">\r\n                        <span>{{index+1}}</span>\r\n                        <div class=\"itemBody\">\r\n                            <p>{{item.songName}}</p>\r\n                            <p class=\"cen\">\r\n                                <span class=\"x1 xx\">独家</span>\r\n                                <span class=\"x2 xx\">SQ</span>\r\n                                <span>{{item.autName}}</span>\r\n                            </p>\r\n                        </div>\r\n                        <span class=\"iconfont icon-sandian\"></span>\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n              \r\n          </div>\r\n\r\n  \r\n         \r\n          \r\n      \r\n\r\n          \r\n\r\n\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import '../assets/less/SongList.less'\r\n    export default {\r\n        name : 'Songlist',\r\n        data() {\r\n            return {\r\n                ids       : null,\r\n                scores    : null,\r\n                artist    : {},\r\n                hotSongss : [],\r\n                \r\n            }\r\n        },\r\n        created(){\r\n            this.ids    = this.$route.query.id,\r\n            this.scores = this.$route.query.score,\r\n            console.log(this.scores)\r\n            this.$toast.loading({\r\n                message: '加载中',\r\n                forbidClick: true,\r\n                loadingType: 'spinner',\r\n            });\r\n            this.ff_singer();\r\n        },\r\n        computed:{\r\n           queue(){\r\n               return this.$store.state.queue;\r\n           },\r\n           music(){\r\n               return this.$store.state.song;\r\n           },\r\n           queueIndex(){\r\n                     return this.$store.state.queueIndex; \r\n            },\r\n        },\r\n        methods:{\r\n            // 获取歌手信息以及歌曲\r\n            ff_singer(){\r\n               this.axios({\r\n                   url : '/artists',\r\n                   params : {\r\n                       id       : this.ids,\r\n                   }\r\n               })\r\n               .then(res=>{\r\n                   if(res.data.code == 200){\r\n        \r\n               \r\n                        console.log(res.data.hotSongs)\r\n\r\n                        res.data.hotSongs.forEach(item=>{\r\n                            let arr = [];\r\n                            console.log(item.ar)\r\n                            item.ar.forEach(item=>{\r\n                                arr.push(item.name)\r\n                            });\r\n                            let autNames = arr.join('/');\r\n                            console.log(autNames)\r\n\r\n                             this.hotSongss.push({\r\n                                    //  歌名 \r\n                                    songName  : item.name,\r\n                                    //  歌id\r\n                                    songId    : item.id,\r\n                                    //  歌曲封面图片\r\n                                    songUrl   : item.al.picUrl,\r\n                                    //  歌手 \r\n                                    autName   : autNames,\r\n                                    //  歌曲简介\r\n                                    songBrief : ''\r\n                                })\r\n\r\n                        })\r\n                       \r\n\r\n\r\n\r\n                       this.artist    = res.data.artist;     \r\n                                        \r\n                   }\r\n                   \r\n               })\r\n               .catch(err=>{\r\n                   console.log(err)\r\n               })\r\n            },\r\n            goBack(){\r\n                this.$router.go(-1);\r\n            },\r\n             // 获取歌曲url\r\n            ff_songs(id,name,imgUrl,auto,isSingle=false,Brief=''){\r\n                 console.log(id,name,imgUrl)\r\n                 this.axios({\r\n                     url : '/song/url',\r\n                     method : 'GET',\r\n                     params : {\r\n                         id\r\n                     }\r\n                 })\r\n                 .then(res=>{\r\n                     console.log(res)\r\n                     if(res.data.code == 200){\r\n                           let a = {};\r\n                          \r\n                           a.name     = name;\r\n                           a.url      = res.data.data[0].url;\r\n                           a.imgUrl   = imgUrl;\r\n                           a.id       = id;\r\n                           a.isFlash  = true;\r\n                           a.isPlay   = true;\r\n                           this.musicObj = a;\r\n                           this.$store.dispatch('gaiMusic',this.musicObj);\r\n                            \r\n                           \r\n                        // 判断是否单曲加入队列\r\n                         if(isSingle){\r\n                             let ispduan =  true;\r\n                           \r\n\r\n                             this.queue.forEach((Item,index)=>{\r\n                                 if(Item.songId == id){\r\n                                       ispduan = false;\r\n                                       this.queue.splice(index,1);\r\n                                       this.queue.unshift({\r\n                                            songId    : id,\r\n                                            songName  : name,\r\n                                            songUrl   : imgUrl,\r\n                                            autName   : auto,\r\n                                            songBrief : Brief,\r\n                                        })\r\n\r\n                                 }\r\n                             });\r\n                            if(ispduan){\r\n                                this.queue.unshift({\r\n                                    songId    : id,\r\n                                    songName  : name,\r\n                                    songUrl   : imgUrl,\r\n                                    autName   : auto,\r\n                                    songBrief : Brief,\r\n                                })\r\n                               \r\n                                let a =  this.queue.slice(0,30);\r\n                                this.$store.dispatch('gaiQueue', a)\r\n\r\n                            }\r\n                           \r\n                             sessionStorage.setItem('queue',JSON.stringify(this.queue))\r\n                             this.isSingle = false;\r\n\r\n                         }\r\n                           \r\n                          \r\n                           \r\n                     }\r\n                 })\r\n                 .catch(err=>{\r\n                     console.log(err)\r\n                 })\r\n            },\r\n             // 改播放队列\r\n            ff_queue(){\r\n                this.$toast('已加载到播放队列')\r\n                let ques = [];\r\n                for(let i = 0;i < 30;i++){\r\n                     ques.push(this.hotSongss[i])\r\n                }\r\n                this.$store.dispatch('gaiQueue', ques).then(res=>{\r\n                     this.ff_songs(res[this.queueIndex].songId,res[this.queueIndex].songName,res[this.queueIndex].songUrl); \r\n                })\r\n            },\r\n            // 跳转页面\r\n            goPack(name){\r\n                this.$router.push({name})\r\n            }\r\n            \r\n           \r\n        },\r\n        filters:{\r\n            ff_score(val){\r\n                let str = `${Math.floor(val/10000)}万`\r\n                return str;\r\n            },\r\n\r\n        },\r\n    }\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Songlist.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Songlist.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Songlist.vue?vue&type=template&id=10ad8043&scoped=true&\"\nimport script from \"./Songlist.vue?vue&type=script&lang=js&\"\nexport * from \"./Songlist.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"10ad8043\",\n  null\n  \n)\n\nexport default component.exports","'use strict';\nvar $ = require('../internals/export');\nvar IndexedObject = require('../internals/indexed-object');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\n\nvar nativeJoin = [].join;\n\nvar ES3_STRINGS = IndexedObject != Object;\nvar STRICT_METHOD = arrayMethodIsStrict('join', ',');\n\n// `Array.prototype.join` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.join\n$({ target: 'Array', proto: true, forced: ES3_STRINGS || !STRICT_METHOD }, {\n  join: function join(separator) {\n    return nativeJoin.call(toIndexedObject(this), separator === undefined ? ',' : separator);\n  }\n});\n","var DESCRIPTORS = require('../internals/descriptors');\nvar defineProperty = require('../internals/object-define-property').f;\n\nvar FunctionPrototype = Function.prototype;\nvar FunctionPrototypeToString = FunctionPrototype.toString;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// Function instances `.name` property\n// https://tc39.github.io/ecma262/#sec-function-instances-name\nif (DESCRIPTORS && !(NAME in FunctionPrototype)) {\n  defineProperty(FunctionPrototype, NAME, {\n    configurable: true,\n    get: function () {\n      try {\n        return FunctionPrototypeToString.call(this).match(nameRE)[1];\n      } catch (error) {\n        return '';\n      }\n    }\n  });\n}\n"],"sourceRoot":""}